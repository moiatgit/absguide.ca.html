

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>XXX Chapter 24. Functions &mdash; Guia Avançada de Programació Bash 10 març de 2014 documentació</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="copyright" title="Copyright" href="copyright.html"/>
    <link rel="top" title="Guia Avançada de Programació Bash 10 març de 2014 documentació" href="index.html"/>
        <link rel="up" title="XXX Part 5. Advanced Topics" href="part5.html"/>
        <link rel="next" title="XXX Capítol 25. Àlies" href="aliases.html"/>
        <link rel="prev" title="XXX Chapter 23. Process Substitution" href="process-sub.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Guia Avançada de Programació Bash
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Cercar..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="part1.html">Part 1. Introducció</a></li>
<li class="toctree-l1"><a class="reference internal" href="part2.html">Part 2. Conceptes bàsics</a></li>
<li class="toctree-l1"><a class="reference internal" href="part3.html">XXX Part 3. Beyond the Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="part4.html">XXX Part 4. Commands</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="part5.html">XXX Part 5. Advanced Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="regexp.html">XXX Chapter 18. Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="here-docs.html">XXX  Chapter 19. Document immediat</a></li>
<li class="toctree-l2"><a class="reference internal" href="io-redirection.html">XXX  Chapter 20. I/O Redirection</a></li>
<li class="toctree-l2"><a class="reference internal" href="subshells.html">XXX  Chapter 21. Subshells</a></li>
<li class="toctree-l2"><a class="reference internal" href="restricted-sh.html">XXX  Chapter 22. Restricted Shells</a></li>
<li class="toctree-l2"><a class="reference internal" href="process-sub.html">XXX  Chapter 23. Process Substitution</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">XXX  Chapter 24. Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="aliases.html">XXX Capítol 25. Àlies</a></li>
<li class="toctree-l2"><a class="reference internal" href="list-cons.html">XXX  Chapter 26. List Constructs</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrays.html">XXX  Chapter 27. Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="ivr.html">XXX  Chapter 28. Indirect References</a></li>
<li class="toctree-l2"><a class="reference internal" href="networkprogramming.html">XXX  Chapter 30. Network Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="zeros.html">XXX  Chapter 31. Of Zeros and Nulls</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">XXX  Chapter 32. Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="options.html">XXX  Chapter 33. Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="gotchas.html">XXX Chapter 34. Gotchas</a></li>
<li class="toctree-l2"><a class="reference internal" href="scrstyle.html">XXX  Chapter 35. Scripting With Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="unofficialst.html">XXX  35.1. Unofficial Shell Scripting Stylesheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="miscellany.html">XXX  Chapter 36. Miscellany</a></li>
<li class="toctree-l2"><a class="reference internal" href="bash2.html">XXX  Chapter 37. Bash, versions 2, 3, and 4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="endnotes.html">Notes finals</a></li>
<li class="toctree-l1"><a class="reference internal" href="biblio.html">XXX  Bibliografia</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Guia Avançada de Programació Bash</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Inici</a> &raquo;</li>
      
          <li><a href="part5.html">XXX Part 5. Advanced Topics</a> &raquo;</li>
      
    <li>XXX  Chapter 24. Functions</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="xxx-chapter-24-functions">
<h1>XXX  Chapter 24. Functions<a class="headerlink" href="#xxx-chapter-24-functions" title="Link permanent a aquest títol">¶</a></h1>
<p><strong>Table of Contents</strong></p>
<p>24.1. <a class="reference external" href="complexfunct.html">Complex Functions and Function
Complexities</a></p>
<p>24.2. <a class="reference external" href="localvar.html">Local Variables</a></p>
<p>24.3. <a class="reference external" href="recurnolocvar.html">Recursion Without Local Variables</a></p>
<p>Like &#8220;real&#8221; programming languages, Bash has functions, though in a
somewhat limited implementation. A function is a subroutine, a <a class="reference external" href="special-chars.html#CODEBLOCKREF">code
block</a> that implements a set of
operations, a &#8220;black box&#8221; that performs a specified task. Wherever there
is repetitive code, when a task repeats with only slight variations in
procedure, then consider using a function.</p>
<dl class="docutils">
<dt><strong>function</strong> ``             function_name           `` {</dt>
<dd>``             command           `` ...
}</dd>
</dl>
<p>or
``             function_name           `` () {</p>
<blockquote>
<div>``             command           `` ...
}</div></blockquote>
<p>This second form will cheer the hearts of C programmers (and is more
<a class="reference external" href="portabilityissues.html">portable</a> ).</p>
<p>As in C, the function&#8217;s opening bracket may optionally appear on the
second line.</p>
<dl class="docutils">
<dt>``             function_name           `` ()</dt>
<dd>{
``             command           `` ...
}</dd>
</dl>
<p><a href="#id1"><span class="problematic" id="id2">|</span></a>Note</p>
<p>A function may be &#8220;compacted&#8221; into a single line.</p>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre>fun <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;This</span>
</pre></div>
</div>
<dl class="docutils">
<dt>is a function&#8221;; echo; }</dt>
<dd><dl class="first last docutils">
<dt>#</dt>
<dd>^     ^</dd>
</dl>
</dd>
</dl>
<hr class="docutils" />
<p>In this case, however, a <em>semicolon</em> must follow the final command in
the function.</p>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre>fun <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;This</span>
</pre></div>
</div>
<dl class="docutils">
<dt>is a function&#8221;; echo } #</dt>
<dd><dl class="first docutils">
<dt>Error!</dt>
<dd><dl class="first docutils">
<dt>#</dt>
<dd>^</dd>
</dl>
<p class="last">fun2 () { echo &#8220;Even</p>
</dd>
</dl>
<p class="last">a single-command functi</p>
</dd>
<dt>on? Yes!&#8221;; }</dt>
<dd><p class="first">#</p>
<blockquote class="last">
<div>^</div></blockquote>
</dd>
</dl>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre>fun <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;This is a function&quot;</span><span class="p">;</span> <span class="nb">echo</span><span class="p">;</span> <span class="o">}</span>
<span class="c">#                                 ^     ^</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>fun <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;This is a function&quot;</span><span class="p">;</span> <span class="nb">echo</span> <span class="o">}</span> <span class="c"># Error!</span>
<span class="c">#                                       ^</span>

fun2 <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;Even a single-command function? Yes!&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="c">#                                                    ^</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>fun <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;This is a function&quot;</span><span class="p">;</span> <span class="nb">echo</span><span class="p">;</span> <span class="o">}</span>
<span class="c">#                                 ^     ^</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>fun <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;This is a function&quot;</span><span class="p">;</span> <span class="nb">echo</span> <span class="o">}</span> <span class="c"># Error!</span>
<span class="c">#                                       ^</span>

fun2 <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;Even a single-command function? Yes!&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="c">#                                                    ^</span>
</pre></div>
</div>
<p>Functions are called, <em>triggered</em> , simply by invoking their names. <em>A
function call is equivalent to a command.</em></p>
<div class="section" id="exemple-1-simple-functions">
<h2>Exemple 1. Simple functions<a class="headerlink" href="#exemple-1-simple-functions" title="Link permanent a aquest títol">¶</a></h2>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># ex59.sh: Exercising functions (simple).</span>

<span class="nv">JUST_A_SECOND</span><span class="o">=</span>1

funky <span class="o">()</span>
<span class="o">{</span> <span class="c"># This is about as simple as functions get.</span>
  <span class="nb">echo</span> <span class="s2">&quot;This is a funky function.&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;Now exiting funky function.&quot;</span>
<span class="o">}</span> <span class="c"># Function declaration must precede call.</span>


fun <span class="o">()</span>
<span class="o">{</span> <span class="c"># A somewhat more complex function.</span>
  <span class="nv">i</span><span class="o">=</span>0
  <span class="nv">REPEATS</span><span class="o">=</span>30

  <span class="nb">echo</span>
<span class="nb">  echo</span> <span class="s2">&quot;And now the fun really begins.&quot;</span>
  <span class="nb">echo</span>

<span class="nb">  </span>sleep <span class="nv">$JUST_A_SECOND</span>    <span class="c"># Hey, wait a second!</span>
  <span class="k">while</span> <span class="o">[</span> <span class="nv">$i</span> -lt <span class="nv">$REPEATS</span> <span class="o">]</span>
  <span class="k">do</span>
    <span class="nb">echo</span> <span class="s2">&quot;----------FUNCTIONS----------&gt;&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;&lt;------------ARE-------------&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;&lt;------------FUN------------&gt;&quot;</span>
    <span class="nb">echo</span>
<span class="nb">    let</span> <span class="s2">&quot;i+=1&quot;</span>
  <span class="k">done</span>
<span class="o">}</span>

  <span class="c"># Now, call the functions.</span>

funky
fun

<span class="nb">exit</span> <span class="nv">$?</span>
</pre></div>
</div>
<p>The function definition must precede the first call to it. There is no
method of &#8220;declaring&#8221; the function, as, for example, in C.</p>
<div class="highlight-sh"><div class="highlight"><pre>f1
<span class="c"># Will give an error message, since function &quot;f1&quot; not yet defined.</span>

<span class="nb">declare</span> -f f1      <span class="c"># This doesn&#39;t help either.</span>
f1                 <span class="c"># Still an error message.</span>

<span class="c"># However...</span>


f1 <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&quot;Calling function \&quot;f2\&quot; from within function \&quot;f1\&quot;.&quot;</span>
  f2
<span class="o">}</span>

f2 <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&quot;Function \&quot;f2\&quot;.&quot;</span>
<span class="o">}</span>

f1  <span class="c">#  Function &quot;f2&quot; is not actually called until this point,</span>
    <span class="c">#+ although it is referenced before its definition.</span>
    <span class="c">#  This is permissible.</span>

    <span class="c"># Thanks, S.C.</span>
</pre></div>
</div>
<p><a href="#id3"><span class="problematic" id="id4">|</span></a>Note</p>
<blockquote>
<div>Functions may not be empty!</div></blockquote>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># empty-function.sh</span>

empty <span class="o">()</span>
<span class="o">{</span>
<span class="o">}</span>

<span class="nb">exit </span><span class="m">0</span>  <span class="c"># Will not e</span>
</pre></div>
</div>
<p>xit here!</p>
<blockquote>
<div># $ sh empty-functio</div></blockquote>
<dl class="docutils">
<dt>n.sh</dt>
<dd><blockquote class="first">
<div># empty-function.sh:</div></blockquote>
<p class="last">line 6: syntax error ne</p>
</dd>
<dt>ar unexpected token <a href="#id5"><span class="problematic" id="id6">`</span></a>}&#8217;</dt>
<dd><blockquote class="first">
<div># empty-function.sh:</div></blockquote>
<p>line 6: <a href="#id7"><span class="problematic" id="id8">`</span></a>}&#8217;</p>
<blockquote class="last">
<div><p># $ echo $?
# 2</p>
<p># Note that a functi</p>
</div></blockquote>
</dd>
</dl>
<p>on containing only comme
nts is empty.</p>
<blockquote>
<div><blockquote>
<div><p>func ()
{</p>
<blockquote>
<div># Comment 1.
# Comment 2.
# This is still an</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>empty function.</dt>
<dd># Thank you, Mark</dd>
</dl>
</div></blockquote>
<p>Bova, for pointing this
out.</p>
<blockquote>
<div>}
# Results in same er</div></blockquote>
<p>ror message as above.</p>
<blockquote>
<div><p># However ...</p>
<p>not_quite_empty ()
{</p>
<blockquote>
<div>illegal_command</div></blockquote>
<p>} #  A script contai</p>
</div></blockquote>
<p>ning this function will
<em>not</em> bomb</p>
<blockquote>
<div>#+ as long as the</div></blockquote>
<p>function is not called.</p>
<blockquote>
<div><p>not_empty ()
{</p>
<blockquote>
<div>:</div></blockquote>
<p>} # Contains a : (nu</p>
</div></blockquote>
<dl class="docutils">
<dt>ll command), and this is</dt>
<dd><p class="first">okay.</p>
<blockquote class="last">
<div># Thank you, Dominic</div></blockquote>
</dd>
</dl>
<p>k Geyer and Thiemo Kelln
er.</p>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># empty-function.sh</span>

empty <span class="o">()</span>
<span class="o">{</span>
<span class="o">}</span>

<span class="nb">exit </span><span class="m">0</span>  <span class="c"># Will not exit here!</span>

<span class="c"># $ sh empty-function.sh</span>
<span class="c"># empty-function.sh: line 6: syntax error near unexpected token `}&#39;</span>
<span class="c"># empty-function.sh: line 6: `}&#39;</span>

<span class="c"># $ echo $?</span>
<span class="c"># 2</span>


<span class="c"># Note that a function containing only comments is empty.</span>

func <span class="o">()</span>
<span class="o">{</span>
  <span class="c"># Comment 1.</span>
  <span class="c"># Comment 2.</span>
  <span class="c"># This is still an empty function.</span>
  <span class="c"># Thank you, Mark Bova, for pointing this out.</span>
<span class="o">}</span>
<span class="c"># Results in same error message as above.</span>


<span class="c"># However ...</span>

not_quite_empty <span class="o">()</span>
<span class="o">{</span>
  illegal_command
<span class="o">}</span> <span class="c">#  A script containing this function will *not* bomb</span>
  <span class="c">#+ as long as the function is not called.</span>

not_empty <span class="o">()</span>
<span class="o">{</span>
  :
<span class="o">}</span> <span class="c"># Contains a : (null command), and this is okay.</span>


<span class="c"># Thank you, Dominick Geyer and Thiemo Kellner.</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># empty-function.sh</span>

empty <span class="o">()</span>
<span class="o">{</span>
<span class="o">}</span>

<span class="nb">exit </span><span class="m">0</span>  <span class="c"># Will not exit here!</span>

<span class="c"># $ sh empty-function.sh</span>
<span class="c"># empty-function.sh: line 6: syntax error near unexpected token `}&#39;</span>
<span class="c"># empty-function.sh: line 6: `}&#39;</span>

<span class="c"># $ echo $?</span>
<span class="c"># 2</span>


<span class="c"># Note that a function containing only comments is empty.</span>

func <span class="o">()</span>
<span class="o">{</span>
  <span class="c"># Comment 1.</span>
  <span class="c"># Comment 2.</span>
  <span class="c"># This is still an empty function.</span>
  <span class="c"># Thank you, Mark Bova, for pointing this out.</span>
<span class="o">}</span>
<span class="c"># Results in same error message as above.</span>


<span class="c"># However ...</span>

not_quite_empty <span class="o">()</span>
<span class="o">{</span>
  illegal_command
<span class="o">}</span> <span class="c">#  A script containing this function will *not* bomb</span>
  <span class="c">#+ as long as the function is not called.</span>

not_empty <span class="o">()</span>
<span class="o">{</span>
  :
<span class="o">}</span> <span class="c"># Contains a : (null command), and this is okay.</span>


<span class="c"># Thank you, Dominick Geyer and Thiemo Kellner.</span>
</pre></div>
</div>
<p>It is even possible to nest a function within another function, although
this is not very useful.</p>
<div class="highlight-sh"><div class="highlight"><pre>f1 <span class="o">()</span>
<span class="o">{</span>

  f2 <span class="o">()</span> <span class="c"># nested</span>
  <span class="o">{</span>
    <span class="nb">echo</span> <span class="s2">&quot;Function \&quot;f2\&quot;, inside \&quot;f1\&quot;.&quot;</span>
  <span class="o">}</span>

<span class="o">}</span>

f2  <span class="c">#  Gives an error message.</span>
    <span class="c">#  Even a preceding &quot;declare -f f2&quot; wouldn&#39;t help.</span>

<span class="nb">echo</span>

f1  <span class="c">#  Does nothing, since calling &quot;f1&quot; does not automatically call &quot;f2&quot;.</span>
f2  <span class="c">#  Now, it&#39;s all right to call &quot;f2&quot;,</span>
    <span class="c">#+ since its definition has been made visible by calling &quot;f1&quot;.</span>

    <span class="c"># Thanks, S.C.</span>
</pre></div>
</div>
<p>Function declarations can appear in unlikely places, even where a
command would otherwise go.</p>
<div class="highlight-sh"><div class="highlight"><pre>   ls -lfoo<span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;foo&quot;</span><span class="p">;</span> <span class="o">}</span>  <span class="c"># Permissible, but useless.</span>



   <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span> <span class="o">=</span> bozo <span class="o">]</span>
   <span class="k">then</span>
     bozo_greet <span class="o">()</span>   <span class="c"># Function definition embedded in an if/then construct.</span>
     <span class="o">{</span>
       <span class="nb">echo</span> <span class="s2">&quot;Hello, Bozo.&quot;</span>
     <span class="o">}</span>
   <span class="k">fi</span>

   bozo_greet        <span class="c"># Works only for Bozo, and other users get an error.</span>



   <span class="c"># Something like this might be useful in some contexts.</span>
   <span class="nv">NO_EXIT</span><span class="o">=</span><span class="m">1</span>   <span class="c"># Will enable function definition below.</span>

   <span class="o">[[</span> <span class="nv">$NO_EXIT</span> -eq <span class="m">1</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">exit</span><span class="o">()</span> <span class="o">{</span> <span class="nb">true</span><span class="p">;</span> <span class="o">}</span>     <span class="c"># Function definition in an &quot;and-list&quot;.</span>
   <span class="c"># If $NO_EXIT is 1, declares &quot;exit ()&quot;.</span>
   <span class="c"># This disables the &quot;exit&quot; builtin by aliasing it to &quot;true&quot;.</span>

   <span class="nb">exit</span>  <span class="c"># Invokes &quot;exit ()&quot; function, not &quot;exit&quot; builtin.</span>



   <span class="c"># Or, similarly:</span>
   <span class="nv">filename</span><span class="o">=</span>file1

   <span class="o">[</span> -f <span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span> <span class="o">]</span> <span class="o">&amp;&amp;</span>
   foo <span class="o">()</span> <span class="o">{</span> rm -f <span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">&quot;File &quot;</span><span class="nv">$filename</span><span class="s2">&quot; deleted.&quot;</span><span class="p">;</span> <span class="o">}</span> <span class="p">|</span>
   foo <span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;File &quot;</span><span class="nv">$filename</span><span class="s2">&quot; not found.&quot;</span><span class="p">;</span> touch bar<span class="p">;</span> <span class="o">}</span>

   foo

   <span class="c"># Thanks, S.C. and Christopher Head</span>



Function names can take strange forms.
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>  _<span class="o">(){</span> <span class="k">for</span> i in <span class="o">{</span>1..10<span class="o">}</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -n <span class="s2">&quot;</span><span class="nv">$FUNCNAME</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="nb">echo</span><span class="p">;</span> <span class="o">}</span>
<span class="c"># ^^^         No space between function name and parentheses.</span>
<span class="c">#             This doesn&#39;t always work. Why not?</span>

<span class="c"># Now, let&#39;s invoke the function.</span>
  _         <span class="c"># __________</span>
<span class="c">#             ^^^^^^^^^^   10 underscores (10 x function name)!</span>
<span class="c"># A &quot;naked&quot; underscore is an acceptable function name.</span>


<span class="c"># In fact, a colon is likewise an acceptable function name.</span>

:<span class="o">(){</span> <span class="nb">echo</span> <span class="s2">&quot;:&quot;</span><span class="p">;</span> <span class="o">}</span><span class="p">;</span> :

<span class="c"># Of what use is this?</span>
<span class="c"># It&#39;s a devious way to obfuscate the code in a script.</span>
</pre></div>
</div>
<p>See also <a class="reference external" href="contributed-scripts.html#GRONSFELD">Example A-56</a></p>
<p><a href="#id9"><span class="problematic" id="id10">|</span></a>Note</p>
<p>What happens when different versions of the same function appear in a
script?</p>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#  As Yan Chen point</span>
</pre></div>
</div>
<dl class="docutils">
<dt>s out,</dt>
<dd>#  when a function i</dd>
</dl>
<p>s defined multiple times
,</p>
<blockquote>
<div><blockquote>
<div>#  the final version</div></blockquote>
<dl class="docutils">
<dt>is what is invoked.</dt>
<dd>#  This is not, howe</dd>
</dl>
</div></blockquote>
<p>ver, particularly useful
.</p>
<blockquote>
<div><p>func ()
{</p>
<blockquote>
<div>echo &#8220;First versio</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>n of func ().&#8221;</dt>
<dd><p class="first">}</p>
<p>func ()
{</p>
<blockquote class="last">
<div>echo &#8220;Second versi</div></blockquote>
</dd>
<dt>on of func ().&#8221;</dt>
<dd><p class="first">}</p>
<p class="last">func   # Second vers</p>
</dd>
</dl>
<p>ion of func ().</p>
<blockquote>
<div><p>exit $?</p>
<p>#  It is even possib</p>
</div></blockquote>
<p>le to use functions to o
verride</p>
<blockquote>
<div><blockquote>
<div>#+ or preempt system</div></blockquote>
<dl class="docutils">
<dt>commands.</dt>
<dd>#  Of course, this i</dd>
</dl>
</div></blockquote>
<p>s <em>not</em> advisable.</p>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#  As Yan Chen points out,</span>
<span class="c">#  when a function is defined multiple times,</span>
<span class="c">#  the final version is what is invoked.</span>
<span class="c">#  This is not, however, particularly useful.</span>

func <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&quot;First version of func ().&quot;</span>
<span class="o">}</span>

func <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&quot;Second version of func ().&quot;</span>
<span class="o">}</span>

func   <span class="c"># Second version of func ().</span>

<span class="nb">exit</span> <span class="nv">$?</span>

<span class="c">#  It is even possible to use functions to override</span>
<span class="c">#+ or preempt system commands.</span>
<span class="c">#  Of course, this is *not* advisable.</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#  As Yan Chen points out,</span>
<span class="c">#  when a function is defined multiple times,</span>
<span class="c">#  the final version is what is invoked.</span>
<span class="c">#  This is not, however, particularly useful.</span>

func <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&quot;First version of func ().&quot;</span>
<span class="o">}</span>

func <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&quot;Second version of func ().&quot;</span>
<span class="o">}</span>

func   <span class="c"># Second version of func ().</span>

<span class="nb">exit</span> <span class="nv">$?</span>

<span class="c">#  It is even possible to use functions to override</span>
<span class="c">#+ or preempt system commands.</span>
<span class="c">#  Of course, this is *not* advisable.</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  <hr/>

  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aliases.html" class="btn btn-neutral float-right" title="XXX Capítol 25. Àlies" accesskey="n">Seg <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="process-sub.html" class="btn btn-neutral" title="XXX Chapter 23. Process Substitution"
                                                            accesskey="p"><span class="fa fa-arrow-circle-left"></span> Ant</a>
      
    </div>
  

  <div role="contentinfo">
    <p>
    </p>
  </div>
      Pàgina generada amb <a href="http://sphinx-doc.org/">Sphinx</a> amb una lleugera
                                     variació del tema<a
                                     href="https://github.com/snide/sphinx_rtd_theme">
                                         sphinx-rtd-theme </a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'10 març de 2014',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>