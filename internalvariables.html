

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>XXX 9.1. Internal Variables &mdash; Guia Avançada de Programació Bash 10 març de 2014 documentació</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="copyright" title="Copyright" href="copyright.html"/>
    <link rel="top" title="Guia Avançada de Programació Bash 10 març de 2014 documentació" href="index.html"/>
        <link rel="up" title="XXX Part 3. Beyond the Basics" href="part3.html"/>
        <link rel="next" title="XXX 9.2. Typing variables: declare or typeset" href="declareref.html"/>
        <link rel="prev" title="XXX Chapter 9. Another Look at Variables" href="variables2.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Guia Avançada de Programació Bash
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Cercar..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="part1.html">Part 1. Introducció</a></li>
<li class="toctree-l1"><a class="reference internal" href="part2.html">Part 2. Conceptes bàsics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="part3.html">XXX Part 3. Beyond the Basics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="variables2.html">XXX  Chapter 9. Another Look at Variables</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">XXX  9.1. Internal Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="declareref.html">XXX  9.2. Typing variables: <strong>declare</strong> or <strong>typeset</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="randomvar.html">XXX  9.3. $RANDOM: generate random integer</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulatingvars.html">XXX  Chapter 10. Manipulating Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="string-manipulation.html">XXX  10.1. Manipulating Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameter-substitution.html">XXX 10.2. Substitució de paràmetres</a></li>
<li class="toctree-l2"><a class="reference internal" href="loops.html">Chapter 11. Loops and Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="loops1.html">XXX  11.1. Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="nestedloops.html">XXX  11.2. Nested Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="loopcontrol.html">XXX  11.3. Loop Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="testbranch.html">XXX  11.4. Testing and Branching</a></li>
<li class="toctree-l2"><a class="reference internal" href="commandsub.html">XXX  Chapter 12. Substitució de comanda</a></li>
<li class="toctree-l2"><a class="reference internal" href="arithexp.html">XXX  Chapter 13. Arithmetic Expansion</a></li>
<li class="toctree-l2"><a class="reference internal" href="recess-time.html">XXX  Chapter 14. Recess Time</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part4.html">XXX Part 4. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="part5.html">XXX Part 5. Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="endnotes.html">Notes finals</a></li>
<li class="toctree-l1"><a class="reference internal" href="biblio.html">XXX  Bibliografia</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Guia Avançada de Programació Bash</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Inici</a> &raquo;</li>
      
          <li><a href="part3.html">XXX Part 3. Beyond the Basics</a> &raquo;</li>
      
    <li>XXX  9.1. Internal Variables</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="xxx-9-1-internal-variables">
<h1>XXX  9.1. Internal Variables<a class="headerlink" href="#xxx-9-1-internal-variables" title="Link permanent a aquest títol">¶</a></h1>
<p>Les <em>variables internes</em> són variables que afecten el comportament dels guions Bash.</p>
<div class="section" id="bash">
<h2><code class="docutils literal"><span class="pre">$BASH</span></code><a class="headerlink" href="#bash" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>The path to the <em>Bash</em> binary itself</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$BASH</span>
/bin/bash
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="bash-env">
<h2><code class="docutils literal"><span class="pre">$BASH_ENV</span></code><a class="headerlink" href="#bash-env" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>An <a class="reference external" href="othertypesv.html#ENVREF">environmental variable</a> pointing to
a Bash startup file to be read when a script is invoked</div></blockquote>
</div>
<div class="section" id="bash-subshell">
<h2><code class="docutils literal"><span class="pre">$BASH_SUBSHELL</span></code><a class="headerlink" href="#bash-subshell" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>A variable indicating the <a class="reference external" href="subshells.html#SUBSHELLSREF">subshell</a>
level. This is a new addition to Bash, <a class="reference external" href="bashver3.html#BASH3REF">version
3</a> .</p>
<p>See <a class="reference external" href="subshells.html#SUBSHELL">Example 21-1</a> for usage.</p>
</div></blockquote>
</div>
<div class="section" id="bashpid">
<h2><code class="docutils literal"><span class="pre">$BASHPID</span></code><a class="headerlink" href="#bashpid" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p><em>Process ID</em> of the current instance of Bash. This is not the same
as the <a class="reference external" href="internalvariables.html#PROCCID">$$</a> variable, but it
often gives the same result.</p>
<div class="highlight-sh"><div class="highlight"><pre>   bash4<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$$</span>
   11015


   bash4<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$BASHPID</span>
   11015


   bash4<span class="nv">$ </span>ps axgrep bash4
   <span class="m">11015</span> pts/2    R      0:00 bash4




But ...
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash4</span>

<span class="nb">echo</span> <span class="s2">&quot;\$\$ outside of subshell = </span><span class="nv">$$</span><span class="s2">&quot;</span>                              <span class="c"># 9602</span>
<span class="nb">echo</span> <span class="s2">&quot;\$BASH_SUBSHELL  outside of subshell = </span><span class="nv">$BASH_SUBSHELL</span><span class="s2">&quot;</span>      <span class="c"># 0</span>
<span class="nb">echo</span> <span class="s2">&quot;\$BASHPID outside of subshell = </span><span class="nv">$BASHPID</span><span class="s2">&quot;</span>                   <span class="c"># 9602</span>

<span class="nb">echo</span>

<span class="o">(</span> <span class="nb">echo</span> <span class="s2">&quot;\$\$ inside of subshell = </span><span class="nv">$$</span><span class="s2">&quot;</span>                             <span class="c"># 9602</span>
  <span class="nb">echo</span> <span class="s2">&quot;\$BASH_SUBSHELL inside of subshell = </span><span class="nv">$BASH_SUBSHELL</span><span class="s2">&quot;</span>      <span class="c"># 1</span>
  <span class="nb">echo</span> <span class="s2">&quot;\$BASHPID inside of subshell = </span><span class="nv">$BASHPID</span><span class="s2">&quot;</span> <span class="o">)</span>                <span class="c"># 9603</span>
  <span class="c"># Note that $$ returns PID of parent process.</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="bash-versinfo-n">
<h2><code class="docutils literal"><span class="pre">$BASH_VERSINFO[n]</span></code><a class="headerlink" href="#bash-versinfo-n" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>A 6-element <a class="reference external" href="arrays.html#ARRAYREF">array</a> containing version
information about the installed release of Bash. This is similar to
``         $BASH_VERSION        `` , below, but a bit more detailed.</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c"># Bash version info:</span>

<span class="k">for</span> n in <span class="m">0</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> 5
<span class="k">do</span>
  <span class="nb">echo</span> <span class="s2">&quot;BASH_VERSINFO[</span><span class="nv">$n</span><span class="s2">] = </span><span class="si">${</span><span class="nv">BASH_VERSINFO</span><span class="p">[</span><span class="nv">$n</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c"># BASH_VERSINFO[0] = 3                      # Major version no.</span>
<span class="c"># BASH_VERSINFO[1] = 00                     # Minor version no.</span>
<span class="c"># BASH_VERSINFO[2] = 14                     # Patch level.</span>
<span class="c"># BASH_VERSINFO[3] = 1                      # Build version.</span>
<span class="c"># BASH_VERSINFO[4] = release                # Release status.</span>
<span class="c"># BASH_VERSINFO[5] = i386-redhat-linux-gnu  # Architecture</span>
                                            <span class="c"># (same as $MACHTYPE).</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="bash-version">
<h2><code class="docutils literal"><span class="pre">$BASH_VERSION</span></code><a class="headerlink" href="#bash-version" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>The version of Bash installed on the system</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$BASH_VERSION</span>
3.2.25<span class="o">(</span>1<span class="o">)</span>-release
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>tcsh% <span class="nb">echo</span> <span class="nv">$BASH_VERSION</span>
BASH_VERSION: Undefined variable.
</pre></div>
</div>
<p>Checking $BASH_VERSION is a good method of determining which shell
is running. <a class="reference external" href="internalvariables.html#SHELLVARREF">$SHELL</a> does not
necessarily give the correct answer.</p>
</div></blockquote>
</div>
<div class="section" id="cdpath">
<h2><code class="docutils literal"><span class="pre">$CDPATH</span></code><a class="headerlink" href="#cdpath" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>A colon-separated list of search paths available to the
<a class="reference external" href="internal.html#CDREF">cd</a> command, similar in function to the
<a class="reference external" href="internalvariables.html#PATHREF">$PATH</a> variable for binaries.
The ``         $CDPATH        `` variable may be set in the local
``          ~/.bashrc         `` &lt;sample-bashrc.html#BASHRC&gt;`__
file.</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">cd </span>bash-doc
bash: <span class="nb">cd</span>: bash-doc: No such file or directory


bash<span class="nv">$ CDPATH</span><span class="o">=</span>/usr/share/doc
bash<span class="nv">$ </span><span class="nb">cd </span>bash-doc
/usr/share/doc/bash-doc


bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PWD</span>
/usr/share/doc/bash-doc
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="dirstack">
<h2><code class="docutils literal"><span class="pre">$DIRSTACK</span></code><a class="headerlink" href="#dirstack" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>The top value in the directory stack ` [1]</dt>
<dd>&lt;internalvariables.html#FTN.AEN4671&gt;`__ (affected by</dd>
</dl>
<p><a class="reference external" href="internal.html#PUSHDREF">pushd</a> and
<a class="reference external" href="internal.html#POPDREF">popd</a> )</p>
<p>This builtin variable corresponds to the
<a class="reference external" href="internal.html#DIRSD">dirs</a> command, however <strong>dirs</strong> shows the
entire contents of the directory stack.</p>
</div></blockquote>
</div>
<div class="section" id="editor">
<h2><code class="docutils literal"><span class="pre">$EDITOR</span></code><a class="headerlink" href="#editor" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>The default editor invoked by a script, usually <strong>vi</strong> or <strong>emacs</strong>
.</div></blockquote>
</div>
<div class="section" id="euid">
<h2><code class="docutils literal"><span class="pre">$EUID</span></code><a class="headerlink" href="#euid" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><blockquote>
<div>&#8220;effective&#8221; user ID number</div></blockquote>
<p>Identification number of whatever identity the current user has
assumed, perhaps by means of <a class="reference external" href="system.html#SUREF">su</a> .</p>
</div></blockquote>
<div class="admonition caution">
<p class="first admonition-title">Compte</p>
<p class="last">The ``            $EUID           `` is not necessarily the same as
the <a class="reference external" href="internalvariables.html#UIDREF">$UID</a> .</p>
</div>
</div>
<div class="section" id="funcname">
<h2><code class="docutils literal"><span class="pre">$FUNCNAME</span></code><a class="headerlink" href="#funcname" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>Name of the current function</p>
<div class="highlight-sh"><div class="highlight"><pre>xyz23 <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$FUNCNAME</span><span class="s2"> now executing.&quot;</span>  <span class="c"># xyz23 now executing.</span>
<span class="o">}</span>

xyz23

<span class="nb">echo</span> <span class="s2">&quot;FUNCNAME = </span><span class="nv">$FUNCNAME</span><span class="s2">&quot;</span>        <span class="c"># FUNCNAME =</span>
                                   <span class="c"># Null value outside a function.</span>
</pre></div>
</div>
<p>See also <a class="reference external" href="contributed-scripts.html#USEGETOPT">Example A-50</a> .</p>
</div></blockquote>
</div>
<div class="section" id="globignore">
<h2><code class="docutils literal"><span class="pre">$GLOBIGNORE</span></code><a class="headerlink" href="#globignore" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>A list of filename patterns to be excluded from matching in
<a class="reference external" href="globbingref.html">globbing</a> .</div></blockquote>
</div>
<div class="section" id="groups">
<h2><code class="docutils literal"><span class="pre">$GROUPS</span></code><a class="headerlink" href="#groups" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>Groups current user belongs to</p>
<p>This is a listing (array) of the group id numbers for current user,
as recorded in
``          /etc/passwd         `` &lt;files.html#DATAFILESREF1&gt;`__
and ``         /etc/group        `` .</p>
<div class="highlight-sh"><div class="highlight"><pre>root# <span class="nb">echo</span> <span class="nv">$GROUPS</span>
0


root# <span class="nb">echo</span> <span class="si">${</span><span class="nv">GROUPS</span><span class="p">[1]</span><span class="si">}</span>
1


root# <span class="nb">echo</span> <span class="si">${</span><span class="nv">GROUPS</span><span class="p">[5]</span><span class="si">}</span>
6
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="home">
<h2><code class="docutils literal"><span class="pre">$HOME</span></code><a class="headerlink" href="#home" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>Home directory of the user, usually
``         /home/username        `` (see <a class="reference external" href="parameter-substitution.html#EX6">Example
10-7</a> )</div></blockquote>
</div>
<div class="section" id="hostname">
<h2><code class="docutils literal"><span class="pre">$HOSTNAME</span></code><a class="headerlink" href="#hostname" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>The <a class="reference external" href="system.html#HNAMEREF">hostname</a> command assigns the system
host name at bootup in an init script. However, the
``         gethostname()        `` function sets the Bash internal
variable ``         $HOSTNAME        `` . See also <a class="reference external" href="parameter-substitution.html#EX6">Example
10-7</a> .</div></blockquote>
</div>
<div class="section" id="hosttype">
<h2><code class="docutils literal"><span class="pre">$HOSTTYPE</span></code><a class="headerlink" href="#hosttype" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>host type</p>
<p>Like <a class="reference external" href="internalvariables.html#MACHTYPEREF">$MACHTYPE</a> , identifies
the system hardware.</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$HOSTTYPE</span>
i686
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="ifs">
<h2><code class="docutils literal"><span class="pre">$IFS</span></code><a class="headerlink" href="#ifs" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>internal field separator</p>
<p>This variable determines how Bash recognizes
<a class="reference external" href="special-chars.html#FIELDREF">fields</a> , or word boundaries, when
it interprets character strings.</p>
<p>$IFS defaults to <a class="reference external" href="special-chars.html#WHITESPACEREF">whitespace</a>
(space, tab, and newline), but may be changed, for example, to parse
a comma-separated data file. Note that
<a class="reference external" href="internalvariables.html#APPREF">$*</a> uses the first character
held in ``         $IFS        `` . See <a class="reference external" href="quotingvar.html#WEIRDVARS">Example
5-1</a> .</p>
<div class="highlight-sh"><div class="highlight"><pre>bash$ echo &quot;$IFS&quot;

(With $IFS set to default, a blank line displays.)



bash$ echo &quot;$IFS&quot;cat -vte
 ^I$
 $
(Show whitespace: here a single space, ^I [horizontal tab],
  and newline, and display &quot;$&quot; at end-of-line.)



bash$ bash -c &#39;set w x y z; IFS=&quot;:-;&quot;; echo &quot;$*&quot;&#39;
w:x:y:z
(Read commands from string and assign any arguments to pos params.)
</pre></div>
</div>
<p>Set ``         $IFS        `` to eliminate whitespace in
<a class="reference external" href="special-chars.html#PATHNAMEREF">pathnames</a> .</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">printf</span> <span class="s1">&#39;\n\t&#39;</span><span class="k">)</span><span class="s2">&quot;</span>   <span class="c"># Per David Wheeler.</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition caution">
<p class="first admonition-title">Compte</p>
<p class="last">``            $IFS           `` does not handle whitespace the same
as it does other characters.</p>
</div>
</div>
<div class="section" id="exemple-1-ifs-and-whitespace">
<h2>Exemple 1. $IFS and whitespace<a class="headerlink" href="#exemple-1-ifs-and-whitespace" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># ifs.sh</span>


<span class="nv">var1</span><span class="o">=</span><span class="s2">&quot;a+b+c&quot;</span>
<span class="nv">var2</span><span class="o">=</span><span class="s2">&quot;d-e-f&quot;</span>
<span class="nv">var3</span><span class="o">=</span><span class="s2">&quot;g,h,i&quot;</span>

<span class="nv">IFS</span><span class="o">=</span>+
<span class="c"># The plus sign will be interpreted as a separator.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a b c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;-&quot;</span>
<span class="c"># The plus sign reverts to default interpretation.</span>
<span class="c"># The minus sign will be interpreted as a separator.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d e f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;,&quot;</span>
<span class="c"># The comma will be interpreted as a separator.</span>
<span class="c"># The minus sign reverts to default interpretation.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g h i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot; &quot;</span>
<span class="c"># The space character will be interpreted as a separator.</span>
<span class="c"># The comma reverts to default interpretation.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="c"># ======================================================== #</span>

<span class="c"># However ...</span>
<span class="c"># $IFS treats whitespace differently than other characters.</span>

output_args_one_per_line<span class="o">()</span>
<span class="o">{</span>
  <span class="k">for</span> arg
  <span class="k">do</span>
    <span class="nb">echo</span> <span class="s2">&quot;[</span><span class="nv">$arg</span><span class="s2">]&quot;</span>
  <span class="k">done</span> <span class="c">#  ^    ^   Embed within brackets, for your viewing pleasure.</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">&quot;IFS=\&quot; \&quot;&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;-------&quot;</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot; &quot;</span>
<span class="nv">var</span><span class="o">=</span><span class="s2">&quot; a  b c   &quot;</span>
<span class="c">#    ^ ^^   ^^^</span>
output_args_one_per_line <span class="nv">$var</span>  <span class="c"># output_args_one_per_line `echo &quot; a  b c   &quot;`</span>
<span class="c"># [a]</span>
<span class="c"># [b]</span>
<span class="c"># [c]</span>


<span class="nb">echo</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">&quot;IFS=:&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;-----&quot;</span>

<span class="nv">IFS</span><span class="o">=</span>:
<span class="nv">var</span><span class="o">=</span><span class="s2">&quot;:a::b:c:::&quot;</span>               <span class="c"># Same pattern as above,</span>
<span class="c">#    ^ ^^   ^^^                #+ but substituting &quot;:&quot; for &quot; &quot;  ...</span>
output_args_one_per_line <span class="nv">$var</span>
<span class="c"># []</span>
<span class="c"># [a]</span>
<span class="c"># []</span>
<span class="c"># [b]</span>
<span class="c"># [c]</span>
<span class="c"># []</span>
<span class="c"># []</span>

<span class="c"># Note &quot;empty&quot; brackets.</span>
<span class="c"># The same thing happens with the &quot;FS&quot; field separator in awk.</span>


<span class="nb">echo</span>

<span class="nb">exit</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># ifs.sh</span>


<span class="nv">var1</span><span class="o">=</span><span class="s2">&quot;a+b+c&quot;</span>
<span class="nv">var2</span><span class="o">=</span><span class="s2">&quot;d-e-f&quot;</span>
<span class="nv">var3</span><span class="o">=</span><span class="s2">&quot;g,h,i&quot;</span>

<span class="nv">IFS</span><span class="o">=</span>+
<span class="c"># The plus sign will be interpreted as a separator.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a b c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;-&quot;</span>
<span class="c"># The plus sign reverts to default interpretation.</span>
<span class="c"># The minus sign will be interpreted as a separator.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d e f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;,&quot;</span>
<span class="c"># The comma will be interpreted as a separator.</span>
<span class="c"># The minus sign reverts to default interpretation.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g h i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot; &quot;</span>
<span class="c"># The space character will be interpreted as a separator.</span>
<span class="c"># The comma reverts to default interpretation.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="c"># ======================================================== #</span>

<span class="c"># However ...</span>
<span class="c"># $IFS treats whitespace differently than other characters.</span>

output_args_one_per_line<span class="o">()</span>
<span class="o">{</span>
  <span class="k">for</span> arg
  <span class="k">do</span>
    <span class="nb">echo</span> <span class="s2">&quot;[</span><span class="nv">$arg</span><span class="s2">]&quot;</span>
  <span class="k">done</span> <span class="c">#  ^    ^   Embed within brackets, for your viewing pleasure.</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">&quot;IFS=\&quot; \&quot;&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;-------&quot;</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot; &quot;</span>
<span class="nv">var</span><span class="o">=</span><span class="s2">&quot; a  b c   &quot;</span>
<span class="c">#    ^ ^^   ^^^</span>
output_args_one_per_line <span class="nv">$var</span>  <span class="c"># output_args_one_per_line `echo &quot; a  b c   &quot;`</span>
<span class="c"># [a]</span>
<span class="c"># [b]</span>
<span class="c"># [c]</span>


<span class="nb">echo</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">&quot;IFS=:&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;-----&quot;</span>

<span class="nv">IFS</span><span class="o">=</span>:
<span class="nv">var</span><span class="o">=</span><span class="s2">&quot;:a::b:c:::&quot;</span>               <span class="c"># Same pattern as above,</span>
<span class="c">#    ^ ^^   ^^^                #+ but substituting &quot;:&quot; for &quot; &quot;  ...</span>
output_args_one_per_line <span class="nv">$var</span>
<span class="c"># []</span>
<span class="c"># [a]</span>
<span class="c"># []</span>
<span class="c"># [b]</span>
<span class="c"># [c]</span>
<span class="c"># []</span>
<span class="c"># []</span>

<span class="c"># Note &quot;empty&quot; brackets.</span>
<span class="c"># The same thing happens with the &quot;FS&quot; field separator in awk.</span>


<span class="nb">echo</span>

<span class="nb">exit</span>
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># ifs.sh</span>


<span class="nv">var1</span><span class="o">=</span><span class="s2">&quot;a+b+c&quot;</span>
<span class="nv">var2</span><span class="o">=</span><span class="s2">&quot;d-e-f&quot;</span>
<span class="nv">var3</span><span class="o">=</span><span class="s2">&quot;g,h,i&quot;</span>

<span class="nv">IFS</span><span class="o">=</span>+
<span class="c"># The plus sign will be interpreted as a separator.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a b c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;-&quot;</span>
<span class="c"># The plus sign reverts to default interpretation.</span>
<span class="c"># The minus sign will be interpreted as a separator.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d e f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;,&quot;</span>
<span class="c"># The comma will be interpreted as a separator.</span>
<span class="c"># The minus sign reverts to default interpretation.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g h i</span>

<span class="nb">echo</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot; &quot;</span>
<span class="c"># The space character will be interpreted as a separator.</span>
<span class="c"># The comma reverts to default interpretation.</span>
<span class="nb">echo</span> <span class="nv">$var1</span>     <span class="c"># a+b+c</span>
<span class="nb">echo</span> <span class="nv">$var2</span>     <span class="c"># d-e-f</span>
<span class="nb">echo</span> <span class="nv">$var3</span>     <span class="c"># g,h,i</span>

<span class="c"># ======================================================== #</span>

<span class="c"># However ...</span>
<span class="c"># $IFS treats whitespace differently than other characters.</span>

output_args_one_per_line<span class="o">()</span>
<span class="o">{</span>
  <span class="k">for</span> arg
  <span class="k">do</span>
    <span class="nb">echo</span> <span class="s2">&quot;[</span><span class="nv">$arg</span><span class="s2">]&quot;</span>
  <span class="k">done</span> <span class="c">#  ^    ^   Embed within brackets, for your viewing pleasure.</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">&quot;IFS=\&quot; \&quot;&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;-------&quot;</span>

<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot; &quot;</span>
<span class="nv">var</span><span class="o">=</span><span class="s2">&quot; a  b c   &quot;</span>
<span class="c">#    ^ ^^   ^^^</span>
output_args_one_per_line <span class="nv">$var</span>  <span class="c"># output_args_one_per_line `echo &quot; a  b c   &quot;`</span>
<span class="c"># [a]</span>
<span class="c"># [b]</span>
<span class="c"># [c]</span>


<span class="nb">echo</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">&quot;IFS=:&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;-----&quot;</span>

<span class="nv">IFS</span><span class="o">=</span>:
<span class="nv">var</span><span class="o">=</span><span class="s2">&quot;:a::b:c:::&quot;</span>               <span class="c"># Same pattern as above,</span>
<span class="c">#    ^ ^^   ^^^                #+ but substituting &quot;:&quot; for &quot; &quot;  ...</span>
output_args_one_per_line <span class="nv">$var</span>
<span class="c"># []</span>
<span class="c"># [a]</span>
<span class="c"># []</span>
<span class="c"># [b]</span>
<span class="c"># [c]</span>
<span class="c"># []</span>
<span class="c"># []</span>

<span class="c"># Note &quot;empty&quot; brackets.</span>
<span class="c"># The same thing happens with the &quot;FS&quot; field separator in awk.</span>


<span class="nb">echo</span>

<span class="nb">exit</span>
</pre></div>
</div>
<p>(Many thanks, StÃ©phane Chazelas, for clarification and above
examples.)</p>
<p>See also <a class="reference external" href="communications.html#ISSPAMMER">Example 16-41</a> ,
<a class="reference external" href="loops1.html#BINGREP">Example 11-8</a> , and <a class="reference external" href="x17837.html#MAILBOXGREP">Example
19-14</a> for instructive examples of using
``         $IFS        `` .</p>
</div></blockquote>
</div>
<div class="section" id="ignoreeof">
<h2><code class="docutils literal"><span class="pre">$IGNOREEOF</span></code><a class="headerlink" href="#ignoreeof" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>Ignore EOF: how many end-of-files (control-D) the shell will ignore
before logging out.</div></blockquote>
</div>
<div class="section" id="lc-collate">
<h2><code class="docutils literal"><span class="pre">$LC_COLLATE</span></code><a class="headerlink" href="#lc-collate" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>Often set in the
``          .bashrc         `` &lt;sample-bashrc.html&gt;`__ or
``         /etc/profile        `` files, this variable controls
collation order in filename expansion and pattern matching. If
mishandled, ``         LC_COLLATE        `` can cause unexpected
results in <a class="reference external" href="globbingref.html">filename globbing</a> .</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">As of version 2.05 of Bash, filename globbing no longer
distinguishes between lowercase and uppercase letters in a character
range between brackets. For example, <strong>ls [A-M]*</strong> would match both
``            File1.txt           `` and
``            file1.txt           `` . To revert to the customary
behavior of bracket matching, set
``            LC_COLLATE           `` to
``            C           `` by an
``                         export LC_COLLATE=C                       ``
in ``            /etc/profile           `` and/or
``            ~/.bashrc           `` .</p>
</div>
</div>
<div class="section" id="lc-ctype">
<h2><code class="docutils literal"><span class="pre">$LC_CTYPE</span></code><a class="headerlink" href="#lc-ctype" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>This internal variable controls character interpretation in
<a class="reference external" href="globbingref.html">globbing</a> and pattern matching.</div></blockquote>
</div>
<div class="section" id="lineno">
<h2><code class="docutils literal"><span class="pre">$LINENO</span></code><a class="headerlink" href="#lineno" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>This variable is the line number of the shell script in which this
variable appears. It has significance only within the script in
which it appears, and is chiefly useful for debugging purposes.</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c"># *** BEGIN DEBUG BLOCK ***</span>
<span class="nv">last_cmd_arg</span><span class="o">=</span><span class="nv">$_</span>  <span class="c"># Save it.</span>

<span class="nb">echo</span> <span class="s2">&quot;At line number </span><span class="nv">$LINENO</span><span class="s2">, variable \&quot;v1\&quot; = </span><span class="nv">$v1</span><span class="s2">&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Last command argument processed = </span><span class="nv">$last_cmd_arg</span><span class="s2">&quot;</span>
<span class="c"># *** END DEBUG BLOCK ***</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="machtype">
<h2><code class="docutils literal"><span class="pre">$MACHTYPE</span></code><a class="headerlink" href="#machtype" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>machine type</p>
<p>Identifies the system hardware.</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$MACHTYPE</span>
i686
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="oldpwd">
<h2><code class="docutils literal"><span class="pre">$OLDPWD</span></code><a class="headerlink" href="#oldpwd" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>Old working directory ( &#8220;OLD-Print-Working-Directory&#8221; , previous
directory you were in).</div></blockquote>
</div>
<div class="section" id="ostype">
<h2><code class="docutils literal"><span class="pre">$OSTYPE</span></code><a class="headerlink" href="#ostype" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>operating system type</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$OSTYPE</span>
linux
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="path">
<span id="internalvariables-path"></span><h2><code class="docutils literal"><span class="pre">$PATH</span></code><a class="headerlink" href="#path" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>Path to binaries, usually ``         /usr/bin/        `` ,
``         /usr/X11R6/bin/        `` ,
``         /usr/local/bin        `` , etc.</p>
<p>When given a command, the shell automatically does a hash table
search on the directories listed in the <em>path</em> for the executable.
The path is stored in the <a class="reference external" href="othertypesv.html#ENVREF">environmental
variable</a> , ``         $PATH        `` ,
a list of directories, separated by colons. Normally, the system
stores the ``         $PATH        `` definition in
``         /etc/profile        `` and/or
``          ~/.bashrc         `` &lt;sample-bashrc.html&gt;`__ (see
<a class="reference external" href="files.html">Appendix H</a> ).</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PATH</span>
/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin:/sbin:/usr/sbin
</pre></div>
</div>
<p>``                   PATH=${PATH}:/opt/bin                 ``
appends the ``         /opt/bin        `` directory to the current
path. In a script, it may be expedient to temporarily add a
directory to the path in this way. When the script exits, this
restores the original ``         $PATH        `` (a child process,
such as a script, may not change the environment of the parent
process, the shell).</p>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The current &#8220;working directory&#8221; , ``            ./           `` , is
usually omitted from the ``            $PATH           `` as a
security measure.</p>
</div>
</div>
<div class="section" id="pipestatus">
<h2><code class="docutils literal"><span class="pre">$PIPESTATUS</span></code><a class="headerlink" href="#pipestatus" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p><a class="reference external" href="arrays.html#ARRAYREF">Array</a> variable holding <a class="reference external" href="exit-status.html#EXITSTATUSREF">exit
status</a> (es) of last executed
<em>foreground</em> <a class="reference external" href="special-chars.html#PIPEREF">pipe</a> .</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PIPESTATUS</span>
0

bash<span class="nv">$ </span>ls -albogus_command
bash: bogus_command: <span class="nb">command </span>not found
bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[1]</span><span class="si">}</span>
127

bash<span class="nv">$ </span>ls -albogus_command
bash: bogus_command: <span class="nb">command </span>not found
bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$?</span>
127
</pre></div>
</div>
<p>The members of the ``         $PIPESTATUS        `` array hold the
exit status of each respective command executed in a pipe.
``         $PIPESTATUS[0]        `` holds the exit status of the
first command in the pipe, ``         $PIPESTATUS[1]        `` the
exit status of the second command, and so on.</p>
</div></blockquote>
<div class="admonition caution">
<p class="first admonition-title">Compte</p>
<p class="last">The ``            $PIPESTATUS           `` variable may contain an
erroneous 0 value in a login shell (in releases prior to 3.0 of
Bash).</p>
</div>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre>tcsh% bash

bash<span class="nv">$ </span>who <span class="p">|</span> grep nob
</pre></div>
</div>
<dl class="docutils">
<dt>ody | sort</dt>
<dd>bash$ echo ${PIPESTA</dd>
<dt>TUS[*]}</dt>
<dd>0</dd>
</dl>
<hr class="docutils" />
<blockquote>
<div><p>The above lines contained in a script would produce the expected
``            0 1 0           `` output.</p>
<p>Thank you, Wayne Pollock for pointing this out and supplying the
above example.</p>
<div class="highlight-sh"><div class="highlight"><pre>tcsh% bash

bash<span class="nv">$ </span>whogrep nobody <span class="p">|</span> sort
bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[*]</span><span class="si">}</span>
0
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>tcsh% bash

bash<span class="nv">$ </span>whogrep nobody <span class="p">|</span> sort
bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[*]</span><span class="si">}</span>
0
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The ``            $PIPESTATUS           `` variable gives unexpected
results in some contexts.</p>
</div>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$BASH_VER</span>
</pre></div>
</div>
<dl class="docutils">
<dt>SION</dt>
<dd><p class="first">3.00.14(1)-release</p>
<p class="last">bash$ $ ls | bogus_c</p>
</dd>
<dt>ommand | wc</dt>
<dd><blockquote class="first">
<div>bash: bogus_command:</div></blockquote>
<dl class="last docutils">
<dt>command not found</dt>
<dd><blockquote class="first">
<div>0       0       0</div></blockquote>
<p class="last">bash$ echo ${PIPESTA</p>
</dd>
</dl>
</dd>
<dt>TUS[&#64;]}</dt>
<dd>141 127 0</dd>
</dl>
<hr class="docutils" />
<blockquote>
<div><p>Chet Ramey attributes the above output to the behavior of
<a class="reference external" href="basic.html#LSREF">ls</a> . If <em>ls</em> writes to a <em>pipe</em> whose output
is not read, then
``                         SIGPIPE                       `` kills
it, and its <a class="reference external" href="exit-status.html#EXITSTATUSREF">exit status</a> is 141
. Otherwise its exit status is 0 , as expected. This likewise is the
case for <a class="reference external" href="textproc.html#TRREF">tr</a> .</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$BASH_VERSION</span>
3.00.14<span class="o">(</span>1<span class="o">)</span>-release

bash<span class="nv">$ $ </span>lsbogus_command <span class="p">|</span> wc
bash: bogus_command: <span class="nb">command </span>not found
 <span class="m">0</span>       <span class="m">0</span>       0

bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span>
<span class="m">141</span> <span class="m">127</span> 0
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$BASH_VERSION</span>
3.00.14<span class="o">(</span>1<span class="o">)</span>-release

bash<span class="nv">$ $ </span>lsbogus_command <span class="p">|</span> wc
bash: bogus_command: <span class="nb">command </span>not found
 <span class="m">0</span>       <span class="m">0</span>       0

bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span>
<span class="m">141</span> <span class="m">127</span> 0
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">``            $PIPESTATUS           `` is a &#8220;volatile&#8221; variable. It
needs to be captured immediately after the pipe in question, before
any other command intervenes.</p>
</div>
<hr class="docutils" />
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ $ </span>ls <span class="p">|</span> bogus_c
</pre></div>
</div>
<dl class="docutils">
<dt>ommand | wc</dt>
<dd><blockquote class="first">
<div>bash: bogus_command:</div></blockquote>
<dl class="last docutils">
<dt>command not found</dt>
<dd><blockquote class="first">
<div>0       0       0</div></blockquote>
<p class="last">bash$ echo ${PIPESTA</p>
</dd>
</dl>
</dd>
<dt>TUS[&#64;]}</dt>
<dd><p class="first">0 127 0</p>
<p class="last">bash$ echo ${PIPESTA</p>
</dd>
<dt>TUS[&#64;]}</dt>
<dd>0</dd>
</dl>
<hr class="docutils" />
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ $ </span>lsbogus_command <span class="p">|</span> wc
bash: bogus_command: <span class="nb">command </span>not found
 <span class="m">0</span>       <span class="m">0</span>       0

bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span>
<span class="m">0</span> <span class="m">127</span> 0

bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span>
0
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ $ </span>lsbogus_command <span class="p">|</span> wc
bash: bogus_command: <span class="nb">command </span>not found
 <span class="m">0</span>       <span class="m">0</span>       0

bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span>
<span class="m">0</span> <span class="m">127</span> 0

bash<span class="nv">$ </span><span class="nb">echo</span> <span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span>
0
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <a class="reference external" href="bashver3.html#PIPEFAILREF">pipefail option</a> may be useful in
cases where ``            $PIPESTATUS           `` does not give the
desired information.</p>
</div>
</div>
<div class="section" id="ppid">
<h2><code class="docutils literal"><span class="pre">$PPID</span></code><a class="headerlink" href="#ppid" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>The ``         $PPID        `` of a process is the process ID (
``         pid        `` ) of its parent process. ` [2]</p>
<blockquote>
<div>&lt;internalvariables.html#FTN.AEN5154&gt;`__</div></blockquote>
<p>Compare this with the <a class="reference external" href="system.html#PIDOFREF">pidof</a> command.</p>
</div></blockquote>
</div>
<div class="section" id="prompt-command">
<h2><code class="docutils literal"><span class="pre">$PROMPT_COMMAND</span></code><a class="headerlink" href="#prompt-command" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>A variable holding a command to be executed just before the primary
prompt, ``         $PS1        `` is to be displayed.</div></blockquote>
</div>
<div class="section" id="ps1">
<h2><code class="docutils literal"><span class="pre">$PS1</span></code><a class="headerlink" href="#ps1" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>This is the main prompt, seen at the command-line.</div></blockquote>
</div>
<div class="section" id="ps2">
<h2><code class="docutils literal"><span class="pre">$PS2</span></code><a class="headerlink" href="#ps2" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>The secondary prompt, seen when additional input is expected. It
displays as &#8220;&gt;&#8221; .</div></blockquote>
</div>
<div class="section" id="ps3">
<h2><code class="docutils literal"><span class="pre">$PS3</span></code><a class="headerlink" href="#ps3" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>The tertiary prompt, displayed in a
<a class="reference external" href="testbranch.html#SELECTREF">select</a> loop (see <a class="reference external" href="testbranch.html#EX31">Example
11-30</a> ).</div></blockquote>
</div>
<div class="section" id="ps4">
<h2><code class="docutils literal"><span class="pre">$PS4</span></code><a class="headerlink" href="#ps4" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>The quartenary prompt, shown at the beginning of each line of output
when invoking a script with the -x <em>[verbose trace]</em>
<a class="reference external" href="options.html#OPTIONSREF">option</a> . It displays as &#8220;+&#8221; .</p>
<p>As a debugging aid, it may be useful to embed diagnostic information
in ``         $PS4        `` .</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">P4</span><span class="o">=</span><span class="s1">&#39;$(read time junk &lt; /proc/$$/schedstat; echo &quot;@@@ $time @@@ &quot; )&#39;</span>
<span class="c"># Per suggestion by Erik Brandsberg.</span>
<span class="nb">set</span> -x
<span class="c"># Various commands follow ...</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="pwd">
<span id="internalvars-pwd"></span><h2><code class="docutils literal"><span class="pre">$PWD</span></code><a class="headerlink" href="#pwd" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>Working directory (directory you are in at the time)</p>
<p>This is the analog to the <a class="reference external" href="internal.html#PWD2REF">pwd</a> builtin
command.</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="nv">E_WRONG_DIRECTORY</span><span class="o">=</span>85

clear <span class="c"># Clear the screen.</span>

<span class="nv">TargetDirectory</span><span class="o">=</span>/home/bozo/projects/GreatAmericanNovel

<span class="nb">cd</span> <span class="nv">$TargetDirectory</span>
<span class="nb">echo</span> <span class="s2">&quot;Deleting stale files in </span><span class="nv">$TargetDirectory</span><span class="s2">.&quot;</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$PWD</span><span class="s2">&quot;</span> !<span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$TargetDirectory</span><span class="s2">&quot;</span> <span class="o">]</span>
<span class="k">then</span>    <span class="c"># Keep from wiping out wrong directory by accident.</span>
  <span class="nb">echo</span> <span class="s2">&quot;Wrong directory!&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;In </span><span class="nv">$PWD</span><span class="s2">, rather than </span><span class="nv">$TargetDirectory</span><span class="s2">!&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;Bailing out!&quot;</span>
  <span class="nb">exit</span> <span class="nv">$E_WRONG_DIRECTORY</span>
<span class="k">fi</span>

rm -rf *
rm .<span class="o">[</span>A-Za-z0-9<span class="o">]</span>*    <span class="c"># Delete dotfiles.</span>
<span class="c"># rm -f .[^.]* ..?*   to remove filenames beginning with multiple dots.</span>
<span class="c"># (shopt -s dotglob; rm -f *)   will also work.</span>
<span class="c"># Thanks, S.C. for pointing this out.</span>

<span class="c">#  A filename (`basename`) may contain all characters in the 0 - 255 range,</span>
<span class="c">#+ except &quot;/&quot;.</span>
<span class="c">#  Deleting files beginning with weird characters, such as -</span>
<span class="c">#+ is left as an exercise. (Hint: rm ./-weirdname or rm -- -weirdname)</span>
<span class="nv">result</span><span class="o">=</span><span class="nv">$?</span>   <span class="c"># Result of delete operations. If successful = 0.</span>

<span class="nb">echo</span>
ls -al              <span class="c"># Any files left?</span>
<span class="nb">echo</span> <span class="s2">&quot;Done.&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Old files deleted in </span><span class="nv">$TargetDirectory</span><span class="s2">.&quot;</span>
<span class="nb">echo</span>

<span class="c"># Various other operations here, as necessary.</span>

<span class="nb">exit</span> <span class="nv">$result</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="reply">
<h2><code class="docutils literal"><span class="pre">$REPLY</span></code><a class="headerlink" href="#reply" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>The default value when a variable is not supplied to
<a class="reference external" href="internal.html#READREF">read</a> . Also applicable to
<a class="reference external" href="testbranch.html#SELECTREF">select</a> menus, but only supplies the
item number of the variable chosen, not the value of the variable
itself.</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># reply.sh</span>

<span class="c"># REPLY is the default value for a &#39;read&#39; command.</span>

<span class="nb">echo</span>
<span class="nb">echo</span> -n <span class="s2">&quot;What is your favorite vegetable? &quot;</span>
<span class="nb">read</span>

<span class="nb">echo</span> <span class="s2">&quot;Your favorite vegetable is </span><span class="nv">$REPLY</span><span class="s2">.&quot;</span>
<span class="c">#  REPLY holds the value of last &quot;read&quot; if and only if</span>
<span class="c">#+ no variable supplied.</span>

<span class="nb">echo</span>
<span class="nb">echo</span> -n <span class="s2">&quot;What is your favorite fruit? &quot;</span>
<span class="nb">read </span>fruit
<span class="nb">echo</span> <span class="s2">&quot;Your favorite fruit is </span><span class="nv">$fruit</span><span class="s2">.&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;but...&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Value of \$REPLY is still </span><span class="nv">$REPLY</span><span class="s2">.&quot;</span>
<span class="c">#  $REPLY is still set to its previous value because</span>
<span class="c">#+ the variable $fruit absorbed the new &quot;read&quot; value.</span>

<span class="nb">echo</span>

<span class="nb">exit </span>0
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="seconds">
<h2><code class="docutils literal"><span class="pre">$SECONDS</span></code><a class="headerlink" href="#seconds" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>The number of seconds the script has been running.</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="nv">TIME_LIMIT</span><span class="o">=</span>10
<span class="nv">INTERVAL</span><span class="o">=</span>1

<span class="nb">echo</span>
<span class="nb">echo</span> <span class="s2">&quot;Hit Control-C to exit before </span><span class="nv">$TIME_LIMIT</span><span class="s2"> seconds.&quot;</span>
<span class="nb">echo</span>

<span class="k">while</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$SECONDS</span><span class="s2">&quot;</span> -le <span class="s2">&quot;</span><span class="nv">$TIME_LIMIT</span><span class="s2">&quot;</span> <span class="o">]</span>
<span class="k">do</span>   <span class="c">#   $SECONDS is an internal shell variable.</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$SECONDS</span><span class="s2">&quot;</span> -eq <span class="m">1</span> <span class="o">]</span>
  <span class="k">then</span>
    <span class="nv">units</span><span class="o">=</span>second
  <span class="k">else</span>
    <span class="nv">units</span><span class="o">=</span>seconds
  <span class="k">fi</span>

  <span class="nb">echo</span> <span class="s2">&quot;This script has been running </span><span class="nv">$SECONDS</span><span class="s2"> </span><span class="nv">$units</span><span class="s2">.&quot;</span>
  <span class="c">#  On a slow or overburdened machine, the script may skip a count</span>
  <span class="c">#+ every once in a while.</span>
  sleep <span class="nv">$INTERVAL</span>
<span class="k">done</span>

<span class="nb">echo</span> -e <span class="s2">&quot;\a&quot;</span>  <span class="c"># Beep!</span>

<span class="nb">exit </span>0
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="shellopts">
<h2><code class="docutils literal"><span class="pre">$SHELLOPTS</span></code><a class="headerlink" href="#shellopts" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>The list of enabled shell <a class="reference external" href="options.html#OPTIONSREF">options</a> , a
readonly variable.</p>
<div class="highlight-sh"><div class="highlight"><pre>bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$SHELLOPTS</span>
braceexpand:hashall:histexpand:monitor:history:interactive-comments:emacs
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="shlvl">
<h2><code class="docutils literal"><span class="pre">$SHLVL</span></code><a class="headerlink" href="#shlvl" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>Shell level, how deeply Bash is nested. ` [3]</dt>
<dd>&lt;internalvariables.html#FTN.AEN5320&gt;`__ If, at the command-line,</dd>
</dl>
<p>$SHLVL is 1, then in a script it will increment to 2.</p>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">This variable is <a class="reference external" href="subshells.html#SUBSHNLEVREF">*not* affected by
subshells</a> . Use
<a class="reference external" href="internalvariables.html#BASHSUBSHELLREF">$BASH_SUBSHELL</a> when
you need an indication of subshell nesting.</p>
</div>
</div>
<div class="section" id="tmout">
<h2><code class="docutils literal"><span class="pre">$TMOUT</span></code><a class="headerlink" href="#tmout" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>If the ``                   $TMOUT                 `` environmental
variable is set to a non-zero value ``         time        `` , then
the shell prompt will time out after``$time``
seconds. This will cause a logout.</p>
<p>As of version 2.05b of Bash, it is now possible to use
``                   $TMOUT                 `` in a script in
combination with <a class="reference external" href="internal.html#READREF">read</a> .</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c"># Works in scripts for Bash, versions 2.05b and later.</span>

<span class="nv">TMOUT</span><span class="o">=</span><span class="m">3</span>    <span class="c"># Prompt times out at three seconds.</span>

<span class="nb">echo</span> <span class="s2">&quot;What is your favorite song?&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Quickly now, you only have </span><span class="nv">$TMOUT</span><span class="s2"> seconds to answer!&quot;</span>
<span class="nb">read </span>song

<span class="k">if</span> <span class="o">[</span> -z <span class="s2">&quot;</span><span class="nv">$song</span><span class="s2">&quot;</span> <span class="o">]</span>
<span class="k">then</span>
  <span class="nv">song</span><span class="o">=</span><span class="s2">&quot;(no answer)&quot;</span>
  <span class="c"># Default response.</span>
<span class="k">fi</span>

<span class="nb">echo</span> <span class="s2">&quot;Your favorite song is </span><span class="nv">$song</span><span class="s2">.&quot;</span>
</pre></div>
</div>
<p>There are other, more complex, ways of implementing timed input in a
script. One alternative is to set up a timing loop to signal the
script when it times out. This also requires a signal handling
routine to <a class="reference external" href="debugging.html#TRAPREF1">trap</a> (see <a class="reference external" href="debugging.html#EX76">Example
32-5</a> ) the interrupt generated by the
timing loop (whew!).</p>
</div></blockquote>
</div>
<div class="section" id="exemple-2-timed-input">
<h2>Exemple 2. Timed Input<a class="headerlink" href="#exemple-2-timed-input" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># timed-input.sh</span>

<span class="c"># TMOUT=3    Also works, as of newer versions of Bash.</span>

<span class="nv">TIMER_INTERRUPT</span><span class="o">=</span>14
<span class="nv">TIMELIMIT</span><span class="o">=</span><span class="m">3</span>  <span class="c"># Three seconds in this instance.</span>
             <span class="c"># May be set to different value.</span>

PrintAnswer<span class="o">()</span>
<span class="o">{</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$answer</span><span class="s2">&quot;</span> <span class="o">=</span> TIMEOUT <span class="o">]</span>
  <span class="k">then</span>
    <span class="nb">echo</span> <span class="nv">$answer</span>
  <span class="k">else</span>       <span class="c"># Don&#39;t want to mix up the two instances.</span>
    <span class="nb">echo</span> <span class="s2">&quot;Your favorite veggie is </span><span class="nv">$answer</span><span class="s2">&quot;</span>
    <span class="nb">kill</span> <span class="nv">$!</span>  <span class="c">#  Kills no-longer-needed TimerOn function</span>
             <span class="c">#+ running in background.</span>
             <span class="c">#  $! is PID of last job running in background.</span>
  <span class="k">fi</span>

<span class="o">}</span>


TimerOn<span class="o">()</span>
<span class="o">{</span>
  sleep <span class="nv">$TIMELIMIT</span> <span class="o">&amp;&amp;</span> <span class="nb">kill</span> -s <span class="m">14</span> <span class="nv">$$</span> <span class="p">&amp;</span>
  <span class="c"># Waits 3 seconds, then sends sigalarm to script.</span>
<span class="o">}</span>


Int14Vector<span class="o">()</span>
<span class="o">{</span>
  <span class="nv">answer</span><span class="o">=</span><span class="s2">&quot;TIMEOUT&quot;</span>
  PrintAnswer
  <span class="nb">exit</span> <span class="nv">$TIMER_INTERRUPT</span>
<span class="o">}</span>

<span class="nb">trap </span>Int14Vector <span class="nv">$TIMER_INTERRUPT</span>
<span class="c"># Timer interrupt (14) subverted for our purposes.</span>

<span class="nb">echo</span> <span class="s2">&quot;What is your favorite vegetable &quot;</span>
TimerOn
<span class="nb">read </span>answer
PrintAnswer


<span class="c">#  Admittedly, this is a kludgy implementation of timed input.</span>
<span class="c">#  However, the &quot;-t&quot; option to &quot;read&quot; simplifies this task.</span>
<span class="c">#  See the &quot;t-out.sh&quot; script.</span>
<span class="c">#  However, what about timing not just single user input,</span>
<span class="c">#+ but an entire script?</span>

<span class="c">#  If you need something really elegant ...</span>
<span class="c">#+ consider writing the application in C or C++,</span>
<span class="c">#+ using appropriate library functions, such as &#39;alarm&#39; and &#39;setitimer.&#39;</span>

<span class="nb">exit </span>0
</pre></div>
</div>
<p>An alternative is using <a class="reference external" href="system.html#STTYREF">stty</a> .</p>
</div></blockquote>
</div>
<div class="section" id="exemple-3-once-more-timed-input">
<h2>Exemple 3. Once more, timed input<a class="headerlink" href="#exemple-3-once-more-timed-input" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># timeout.sh</span>

<span class="c">#  Written by Stephane Chazelas,</span>
<span class="c">#+ and modified by the document author.</span>

<span class="nv">INTERVAL</span><span class="o">=</span><span class="m">5</span>                <span class="c"># timeout interval</span>

timedout_read<span class="o">()</span> <span class="o">{</span>
  <span class="nv">timeout</span><span class="o">=</span><span class="nv">$1</span>
  <span class="nv">varname</span><span class="o">=</span><span class="nv">$2</span>
  <span class="nv">old_tty_settings</span><span class="o">=</span><span class="sb">`</span>stty -g<span class="sb">`</span>
  stty -icanon min <span class="m">0</span> <span class="nb">time</span> <span class="si">${</span><span class="nv">timeout</span><span class="si">}</span>0
  <span class="nb">eval read</span> <span class="nv">$varname</span>      <span class="c"># or just  read $varname</span>
  stty <span class="s2">&quot;</span><span class="nv">$old_tty_settings</span><span class="s2">&quot;</span>
  <span class="c"># See man page for &quot;stty.&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="p">;</span> <span class="nb">echo</span> -n <span class="s2">&quot;What&#39;s your name? Quick! &quot;</span>
timedout_read <span class="nv">$INTERVAL</span> your_name

<span class="c">#  This may not work on every terminal type.</span>
<span class="c">#  The maximum timeout depends on the terminal.</span>
<span class="c">#+ (it is often 25.5 seconds).</span>

<span class="nb">echo</span>

<span class="k">if</span> <span class="o">[</span> ! -z <span class="s2">&quot;</span><span class="nv">$your_name</span><span class="s2">&quot;</span> <span class="o">]</span>  <span class="c"># If name input before timeout ...</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;Your name is </span><span class="nv">$your_name</span><span class="s2">.&quot;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&quot;Timed out.&quot;</span>
<span class="k">fi</span>

<span class="nb">echo</span>

<span class="c"># The behavior of this script differs somewhat from &quot;timed-input.sh.&quot;</span>
<span class="c"># At each keystroke, the counter resets.</span>

<span class="nb">exit </span>0
</pre></div>
</div>
<p>Perhaps the simplest method is using the ``         -t        ``
option to <a class="reference external" href="internal.html#READREF">read</a> .</p>
</div></blockquote>
</div>
<div class="section" id="exemple-4-timed-read">
<h2>Exemple 4. Timed <em>read</em><a class="headerlink" href="#exemple-4-timed-read" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># t-out.sh [time-out]</span>
<span class="c"># Inspired by a suggestion from &quot;syngin seven&quot; (thanks).</span>


<span class="nv">TIMELIMIT</span><span class="o">=</span><span class="m">4</span>         <span class="c"># 4 seconds</span>

<span class="nb">read</span> -t <span class="nv">$TIMELIMIT</span> variable &lt;<span class="p">&amp;</span>1
<span class="c">#                           ^^^</span>
<span class="c">#  In this instance, &quot;&lt;&amp;1&quot; is needed for Bash 1.x and 2.x,</span>
<span class="c">#  but unnecessary for Bash 3+.</span>

<span class="nb">echo</span>

<span class="k">if</span> <span class="o">[</span> -z <span class="s2">&quot;</span><span class="nv">$variable</span><span class="s2">&quot;</span> <span class="o">]</span>  <span class="c"># Is null?</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;Timed out, variable still unset.&quot;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&quot;variable = </span><span class="nv">$variable</span><span class="s2">&quot;</span>
<span class="k">fi</span>

<span class="nb">exit </span>0
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="uid">
<h2><code class="docutils literal"><span class="pre">$UID</span></code><a class="headerlink" href="#uid" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p>User ID number</p>
<p>Current user&#8217;s user identification number, as recorded in
``          /etc/passwd         `` &lt;files.html#DATAFILESREF1&gt;`__</p>
<p>This is the current user&#8217;s real id, even if she has temporarily
assumed another identity through <a class="reference external" href="system.html#SUREF">su</a> .
``         $UID        `` is a readonly variable, not subject to
change from the command line or within a script, and is the
counterpart to the <a class="reference external" href="system.html#IDREF">id</a> builtin.</p>
</div></blockquote>
</div>
<div class="section" id="exemple-5-am-i-root">
<h2>Exemple 5. Am I root?<a class="headerlink" href="#exemple-5-am-i-root" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># am-i-root.sh:   Am I root or not?</span>

<span class="nv">ROOT_UID</span><span class="o">=</span><span class="m">0</span>   <span class="c"># Root has $UID 0.</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$UID</span><span class="s2">&quot;</span> -eq <span class="s2">&quot;</span><span class="nv">$ROOT_UID</span><span class="s2">&quot;</span> <span class="o">]</span>  <span class="c"># Will the real &quot;root&quot; please stand up?</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;You are root.&quot;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&quot;You are just an ordinary user (but mom loves you just the same).&quot;</span>
<span class="k">fi</span>

<span class="nb">exit </span>0


<span class="c"># ============================================================= #</span>
<span class="c"># Code below will not execute, because the script already exited.</span>

<span class="c"># An alternate method of getting to the root of matters:</span>

<span class="nv">ROOTUSER_NAME</span><span class="o">=</span>root

<span class="nv">username</span><span class="o">=</span><span class="sb">`</span>id -nu<span class="sb">`</span>              <span class="c"># Or...   username=`whoami`</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$username</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$ROOTUSER_NAME</span><span class="s2">&quot;</span> <span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;Rooty, toot, toot. You are root.&quot;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&quot;You are just a regular fella.&quot;</span>
<span class="k">fi</span>
</pre></div>
</div>
<p>See also <a class="reference external" href="sha-bang.html#EX2">Example 2-3</a> .</p>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The variables ``            $ENV           `` ,
``            $LOGNAME           `` ,
``            $MAIL           `` ,``$TERM``
, ``            $USER           `` , and
``            $USERNAME           `` are <em>not</em> Bash
<a class="reference external" href="internal.html#BUILTINREF">builtins</a> . These are, however, often
set as <a class="reference external" href="othertypesv.html#ENVREF">environmental variables</a> in one
of the <a class="reference external" href="files.html#FILESREF1">Bash</a> or <em>login</em> startup files.
``            $SHELL           `` , the name of the user&#8217;s login
shell, may be set from ``            /etc/passwd           `` or in
an &#8220;init&#8221; script, and it is likewise not a Bash builtin.</p>
</div>
<div class="highlight-sh"><div class="highlight"><pre>tcsh% <span class="nb">echo</span> <span class="nv">$LOGNAME</span>
bozo
tcsh% <span class="nb">echo</span> <span class="nv">$SHELL</span>
/bin/tcsh
tcsh% <span class="nb">echo</span> <span class="nv">$TERM</span>
rxvt

bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$LOGNAME</span>
bozo
bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$SHELL</span>
/bin/tcsh
bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$TERM</span>
rxvt



.. code-block:: sh

    tcsh% <span class="nb">echo</span> <span class="nv">$LOGNAME</span>
    bozo
    tcsh% <span class="nb">echo</span> <span class="nv">$SHELL</span>
    /bin/tcsh
    tcsh% <span class="nb">echo</span> <span class="nv">$TERM</span>
    rxvt

    bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$LOGNAME</span>
    bozo
    bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$SHELL</span>
    /bin/tcsh
    bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$TERM</span>
    rxvt



.. code-block:: sh

    tcsh% <span class="nb">echo</span> <span class="nv">$LOGNAME</span>
    bozo
    tcsh% <span class="nb">echo</span> <span class="nv">$SHELL</span>
    /bin/tcsh
    tcsh% <span class="nb">echo</span> <span class="nv">$TERM</span>
    rxvt

    bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$LOGNAME</span>
    bozo
    bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$SHELL</span>
    /bin/tcsh
    bash<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$TERM</span>
    rxvt
</pre></div>
</div>
</div>
<div class="section" id="parametres-posicionals">
<span id="internalvariables-parametresposicionals"></span><h2>Paràmetres posicionals<a class="headerlink" href="#parametres-posicionals" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>``        $0       `` , ``        $1       `` , ``        $2       `` ,</div></blockquote>
<dl class="docutils">
<dt>etc.</dt>
<dd><blockquote class="first">
<div>Positional parameters, passed from command line to script, passed to
a function, or <a class="reference external" href="internal.html#SETREF">set</a> to a variable (see
<a class="reference external" href="othertypesv.html#EX17">Example 4-5</a> and <a class="reference external" href="internal.html#EX34">Example
15-16</a> )</div></blockquote>
<dl class="last docutils">
<dt>``        $#       ``</dt>
<dd><dl class="first docutils">
<dt>Number of command-line arguments ` [4]</dt>
<dd>&lt;internalvariables.html#FTN.AEN5479&gt;`__ or positional parameters</dd>
</dl>
<p class="last">(see <a class="reference external" href="wrapper.html#EX4">Example 36-2</a> )</p>
</dd>
<dt>``        $*       ``</dt>
<dd>All of the positional parameters, seen as a single word</dd>
</dl>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<blockquote>
<div>&#8221; ``             $*            `` &#8221; must be quoted.</div></blockquote>
<dl class="last docutils">
<dt>``        $&#64;       ``</dt>
<dd>Same as $* , but each parameter is a quoted string, that is, the
parameters are passed on intact, without interpretation or
expansion. This means, among other things, that each parameter in
the argument list is seen as a separate word.</dd>
</dl>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Of course, &#8221; ``             $&#64;            `` &#8221; should be quoted.</p>
</div>
</div>
<div class="section" id="exemple-6-arglist-listing-arguments-with-and">
<h2>Exemple 6. <em>arglist</em> : Listing arguments with $* and $&#64;<a class="headerlink" href="#exemple-6-arglist-listing-arguments-with-and" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># arglist.sh</span>
<span class="c"># Invoke this script with several arguments, such as &quot;one two three&quot; ...</span>

<span class="nv">E_BADARGS</span><span class="o">=</span>85

<span class="k">if</span> <span class="o">[</span> ! -n <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;Usage: `basename </span><span class="nv">$0</span><span class="s2">` argument1 argument2 etc.&quot;</span>
  <span class="nb">exit</span> <span class="nv">$E_BADARGS</span>
<span class="k">fi</span>

<span class="nb">echo</span>

<span class="nv">index</span><span class="o">=</span><span class="m">1</span>          <span class="c"># Initialize count.</span>

<span class="nb">echo</span> <span class="s2">&quot;Listing args with \&quot;\$*\&quot;:&quot;</span>
<span class="k">for</span> arg in <span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>  <span class="c"># Doesn&#39;t work properly if &quot;$*&quot; isn&#39;t quoted.</span>
<span class="k">do</span>
  <span class="nb">echo</span> <span class="s2">&quot;Arg #</span><span class="nv">$index</span><span class="s2"> = </span><span class="nv">$arg</span><span class="s2">&quot;</span>
  <span class="nb">let</span> <span class="s2">&quot;index+=1&quot;</span>
<span class="k">done</span>             <span class="c"># $* sees all arguments as single word.</span>
<span class="nb">echo</span> <span class="s2">&quot;Entire arg list seen as single word.&quot;</span>

<span class="nb">echo</span>

<span class="nv">index</span><span class="o">=</span><span class="m">1</span>          <span class="c"># Reset count.</span>
                 <span class="c"># What happens if you forget to do this?</span>

<span class="nb">echo</span> <span class="s2">&quot;Listing args with \&quot;\$@\&quot;:&quot;</span>
<span class="k">for</span> arg in <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="k">do</span>
  <span class="nb">echo</span> <span class="s2">&quot;Arg #</span><span class="nv">$index</span><span class="s2"> = </span><span class="nv">$arg</span><span class="s2">&quot;</span>
  <span class="nb">let</span> <span class="s2">&quot;index+=1&quot;</span>
<span class="k">done</span>             <span class="c"># $@ sees arguments as separate words.</span>
<span class="nb">echo</span> <span class="s2">&quot;Arg list seen as separate words.&quot;</span>

<span class="nb">echo</span>

<span class="nv">index</span><span class="o">=</span><span class="m">1</span>          <span class="c"># Reset count.</span>

<span class="nb">echo</span> <span class="s2">&quot;Listing args with \$* (unquoted):&quot;</span>
<span class="k">for</span> arg in <span class="nv">$*</span>
<span class="k">do</span>
  <span class="nb">echo</span> <span class="s2">&quot;Arg #</span><span class="nv">$index</span><span class="s2"> = </span><span class="nv">$arg</span><span class="s2">&quot;</span>
  <span class="nb">let</span> <span class="s2">&quot;index+=1&quot;</span>
<span class="k">done</span>             <span class="c"># Unquoted $* sees arguments as separate words.</span>
<span class="nb">echo</span> <span class="s2">&quot;Arg list seen as separate words.&quot;</span>

<span class="nb">exit </span>0
</pre></div>
</div>
<p>Following a <strong>shift</strong> , the ``         $&#64;        `` holds the
remaining command-line parameters, lacking the previous
``         $1        `` , which was lost.</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c"># Invoke with ./scriptname 1 2 3 4 5</span>

<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>    <span class="c"># 1 2 3 4 5</span>
<span class="nb">shift</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>    <span class="c"># 2 3 4 5</span>
<span class="nb">shift</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>    <span class="c"># 3 4 5</span>

<span class="c"># Each &quot;shift&quot; loses parameter $1.</span>
<span class="c"># &quot;$@&quot; then contains the remaining parameters.</span>
</pre></div>
</div>
<p>The ``         $&#64;        `` special parameter finds use as a tool
for filtering input into shell scripts. The <strong>cat &#8220;$&#64;&#8221;</strong>
construction accepts input to a script either from
``         stdin        `` or from files given as parameters to the
script. See <a class="reference external" href="textproc.html#ROT13">Example 16-24</a> and <a class="reference external" href="textproc.html#CRYPTOQUOTE">Example
16-25</a> .</p>
</div></blockquote>
<div class="admonition caution">
<p class="first admonition-title">Compte</p>
<p class="last">The ``            $*           `` and ``            $&#64;           ``
parameters sometimes display inconsistent and puzzling behavior,
depending on the setting of <a class="reference external" href="internalvariables.html#IFSREF">$IFS</a>
.</p>
</div>
</div>
<div class="section" id="exemple-7-inconsistent-and-behavior">
<h2>Exemple 7. Inconsistent <code class="docutils literal"><span class="pre">$*</span></code> and <code class="docutils literal"><span class="pre">$&#64;</span></code> behavior<a class="headerlink" href="#exemple-7-inconsistent-and-behavior" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="c">#  Erratic behavior of the &quot;$*&quot; and &quot;$@&quot; internal Bash variables,</span>
<span class="c">#+ depending on whether or not they are quoted.</span>
<span class="c">#  Demonstrates inconsistent handling of word splitting and linefeeds.</span>


<span class="nb">set</span> -- <span class="s2">&quot;First one&quot;</span> <span class="s2">&quot;second&quot;</span> <span class="s2">&quot;third:one&quot;</span> <span class="s2">&quot;&quot;</span> <span class="s2">&quot;Fifth: :one&quot;</span>
<span class="c"># Setting the script arguments, $1, $2, $3, etc.</span>

<span class="nb">echo</span>

<span class="nb">echo</span> <span class="s1">&#39;IFS unchanged, using &quot;$*&quot;&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>               <span class="c"># quoted</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>   <span class="c"># This line remains the same in every instance.</span>
                            <span class="c"># Echo args.</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS unchanged, using $*&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$*</span>                 <span class="c"># unquoted</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS unchanged, using &quot;$@&quot;&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS unchanged, using $@&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$@</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nv">IFS</span><span class="o">=</span>:
<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using &quot;$*&quot;&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using $*&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$*</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nv">var</span><span class="o">=</span><span class="nv">$*</span>
<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using &quot;$var&quot; (var=$*)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using $var (var=$*)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$var</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nv">var</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>
<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using $var (var=&quot;$*&quot;)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$var</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using &quot;$var&quot; (var=&quot;$*&quot;)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using &quot;$@&quot;&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using $@&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$@</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nv">var</span><span class="o">=</span><span class="nv">$@</span>
<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using $var (var=$@)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$var</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using &quot;$var&quot; (var=$@)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nv">var</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using &quot;$var&quot; (var=&quot;$@&quot;)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> ---

<span class="nb">echo</span> <span class="s1">&#39;IFS=&quot;:&quot;, using $var (var=&quot;$@&quot;)&#39;</span>
<span class="nv">c</span><span class="o">=</span>0
<span class="k">for</span> i in <span class="nv">$var</span>
<span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$((</span>c+<span class="o">=</span><span class="m">1</span><span class="k">))</span><span class="s2">: [</span><span class="nv">$i</span><span class="s2">]&quot;</span>
<span class="k">done</span>

<span class="nb">echo</span>

<span class="c"># Try this script with ksh or zsh -y.</span>

<span class="nb">exit </span>0

<span class="c">#  This example script written by Stephane Chazelas,</span>
<span class="c">#+ and slightly modified by the document author.</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <strong>$&#64;</strong> and <strong>$*</strong> parameters differ only when between double
quotes.</p>
</div>
</div>
<div class="section" id="exemple-8-and-when-ifs-is-empty">
<h2>Exemple 8. <code class="docutils literal"><span class="pre">$*</span></code> and <code class="docutils literal"><span class="pre">$&#64;</span></code> when <code class="docutils literal"><span class="pre">$IFS</span></code> is empty<a class="headerlink" href="#exemple-8-and-when-ifs-is-empty" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="c">#  If $IFS set, but empty,</span>
<span class="c">#+ then &quot;$*&quot; and &quot;$@&quot; do not echo positional params as expected.</span>

mecho <span class="o">()</span>       <span class="c"># Echo positional parameters.</span>
<span class="o">{</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">,</span><span class="nv">$2</span><span class="s2">,</span><span class="nv">$3</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="o">}</span>


<span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;&quot;</span>         <span class="c"># Set, but empty.</span>
<span class="nb">set </span>a b c      <span class="c"># Positional parameters.</span>

mecho <span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>     <span class="c"># abc,,</span>
<span class="c">#                   ^^</span>
mecho <span class="nv">$*</span>       <span class="c"># a,b,c</span>

mecho <span class="nv">$@</span>       <span class="c"># a,b,c</span>
mecho <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>     <span class="c"># a,b,c</span>

<span class="c">#  The behavior of $* and $@ when $IFS is empty depends</span>
<span class="c">#+ on which Bash or sh version being run.</span>
<span class="c">#  It is therefore inadvisable to depend on this &quot;feature&quot; in a script.</span>


<span class="c"># Thanks, Stephane Chazelas.</span>

<span class="nb">exit</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Other Special Parameters</strong></p>
<blockquote>
<div><code class="docutils literal"><span class="pre">$-</span></code></div></blockquote>
<hr class="docutils" />
<blockquote>
<div>Flags passed to script (using <a class="reference external" href="internal.html#SETREF">set</a> ). See
<a class="reference external" href="internal.html#EX34">Example 15-16</a> .</div></blockquote>
<div class="admonition caution">
<p class="first admonition-title">Compte</p>
<p class="last">This was originally a <em>ksh</em> construct adopted into Bash, and
unfortunately it does not seem to work reliably in Bash scripts. One
possible use for it is to have a script <a class="reference external" href="intandnonint.html#IITEST">self-test whether it is
interactive</a> .</p>
</div>
</div>
<div class="section" id="id1">
<h2><code class="docutils literal"><span class="pre">$!</span></code><a class="headerlink" href="#id1" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><p><a class="reference external" href="special-chars.html#PROCESSIDDEF">PID</a> (process ID) of last job
run in background</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">LOG</span><span class="o">=</span><span class="nv">$0</span>.log

<span class="nv">COMMAND1</span><span class="o">=</span><span class="s2">&quot;sleep 100&quot;</span>

<span class="nb">echo</span> <span class="s2">&quot;Logging PIDs background commands for script: </span><span class="nv">$0</span><span class="s2">&quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="nv">$LOG</span><span class="s2">&quot;</span>
<span class="c"># So they can be monitored, and killed as necessary.</span>
<span class="nb">echo</span> &gt;&gt; <span class="s2">&quot;</span><span class="nv">$LOG</span><span class="s2">&quot;</span>

<span class="c"># Logging commands.</span>

<span class="nb">echo</span> -n <span class="s2">&quot;PID of \&quot;</span><span class="nv">$COMMAND1</span><span class="s2">\&quot;:  &quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="nv">$LOG</span><span class="s2">&quot;</span>
<span class="si">${</span><span class="nv">COMMAND1</span><span class="si">}</span> <span class="p">&amp;</span>
<span class="nb">echo</span> <span class="nv">$!</span> &gt;&gt; <span class="s2">&quot;</span><span class="nv">$LOG</span><span class="s2">&quot;</span>
<span class="c"># PID of &quot;sleep 100&quot;:  1506</span>

<span class="c"># Thank you, Jacques Lederer, for suggesting this.</span>
</pre></div>
</div>
<p>Using ``         $!        `` for job control:</p>
<div class="highlight-sh"><div class="highlight"><pre>possibly_hanging_job <span class="p">&amp;</span> <span class="o">{</span> sleep <span class="si">${</span><span class="nv">TIMEOUT</span><span class="si">}</span><span class="p">;</span> <span class="nb">eval</span> <span class="s1">&#39;kill -9 $!&#39;</span> <span class="p">&amp;</span>&gt; /dev/null<span class="p">;</span> <span class="o">}</span>
<span class="c"># Forces completion of an ill-behaved program.</span>
<span class="c"># Useful, for example, in init scripts.</span>

<span class="c"># Thank you, Sylvain Fourmanoit, for this creative use of the &quot;!&quot; variable.</span>
</pre></div>
</div>
<p>Or, alternately:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="c"># This example by Matthew Sage.</span>
<span class="c"># Used with permission.</span>

<span class="nv">TIMEOUT</span><span class="o">=</span><span class="m">30</span>   <span class="c"># Timeout value in seconds</span>
<span class="nv">count</span><span class="o">=</span>0

possibly_hanging_job <span class="p">&amp;</span> <span class="o">{</span>
        <span class="k">while</span> <span class="o">((</span>count &lt; TIMEOUT <span class="o">))</span><span class="p">;</span> <span class="k">do</span>
                <span class="nb">eval</span> <span class="s1">&#39;[ ! -d &quot;/proc/$!&quot; ] &amp;&amp; ((count = TIMEOUT))&#39;</span>
                <span class="c"># /proc is where information about running processes is found.</span>
                <span class="c"># &quot;-d&quot; tests whether it exists (whether directory exists).</span>
                <span class="c"># So, we&#39;re waiting for the job in question to show up.</span>
                <span class="o">((</span>count++<span class="o">))</span>
                sleep 1
        <span class="k">done</span>
        <span class="nb">eval</span> <span class="s1">&#39;[ -d &quot;/proc/$!&quot; ] &amp;&amp; kill -15 $!&#39;</span>
        <span class="c"># If the hanging job is running, kill it.</span>
<span class="o">}</span>

<span class="c">#  -------------------------------------------------------------- #</span>

<span class="c">#  However, this may not not work as specified if another process</span>
<span class="c">#+ begins to run after the &quot;hanging_job&quot; . . .</span>
<span class="c">#  In such a case, the wrong job may be killed.</span>
<span class="c">#  Ariel Meragelman suggests the following fix.</span>

<span class="nv">TIMEOUT</span><span class="o">=</span>30
<span class="nv">count</span><span class="o">=</span>0
<span class="c"># Timeout value in seconds</span>
possibly_hanging_job <span class="p">&amp;</span> <span class="o">{</span>

<span class="k">while</span> <span class="o">((</span>count &lt; TIMEOUT <span class="o">))</span><span class="p">;</span> <span class="k">do</span>
  <span class="nb">eval</span> <span class="s1">&#39;[ ! -d &quot;/proc/$lastjob&quot; ] &amp;&amp; ((count = TIMEOUT))&#39;</span>
  <span class="nv">lastjob</span><span class="o">=</span><span class="nv">$!</span>
  <span class="o">((</span>count++<span class="o">))</span>
  sleep 1
<span class="k">done</span>
<span class="nb">eval</span> <span class="s1">&#39;[ -d &quot;/proc/$lastjob&quot; ] &amp;&amp; kill -15 $lastjob&#39;</span>

<span class="o">}</span>

<span class="nb">exit</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id2">
<h2><code class="docutils literal"><span class="pre">$_</span></code><a class="headerlink" href="#id2" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div>Special variable set to final argument of previous command executed.</div></blockquote>
</div>
<div class="section" id="exemple-9-underscore-variable">
<h2>Exemple 9. Underscore variable<a class="headerlink" href="#exemple-9-underscore-variable" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="nb">echo</span> <span class="nv">$_</span>              <span class="c">#  /bin/bash</span>
                     <span class="c">#  Just called /bin/bash to run the script.</span>
                     <span class="c">#  Note that this will vary according to</span>
                     <span class="c">#+ how the script is invoked.</span>

du &gt;/dev/null        <span class="c">#  So no output from command.</span>
<span class="nb">echo</span> <span class="nv">$_</span>              <span class="c">#  du</span>

ls -al &gt;/dev/null    <span class="c">#  So no output from command.</span>
<span class="nb">echo</span> <span class="nv">$_</span>              <span class="c">#  -al  (last argument)</span>

:
<span class="nb">echo</span> <span class="nv">$_</span>              <span class="c">#  :</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id3">
<h2><code class="docutils literal"><span class="pre">$?</span></code><a class="headerlink" href="#id3" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><a class="reference external" href="exit-status.html#EXITSTATUSREF">Exit status</a> of a command,
<a class="reference external" href="functions.html#FUNCTIONREF">function</a> , or the script itself
(see <a class="reference external" href="complexfunct.html#MAX">Example 24-7</a> )</div></blockquote>
</div>
<div class="section" id="id4">
<h2><code class="docutils literal"><span class="pre">$$</span></code><a class="headerlink" href="#id4" title="Link permanent a aquest títol">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>Process ID ( <em>PID</em> ) of the script itself. ` [5]</dt>
<dd>&lt;internalvariables.html#FTN.AEN5654&gt;`__ The ``         $$        ``</dd>
</dl>
<p>variable often finds use in scripts to construct &#8220;unique&#8221; temp file
names (see <a class="reference external" href="debugging.html#ONLINE">Example 32-6</a> , <a class="reference external" href="filearchiv.html#DERPM">Example
16-31</a> , and <a class="reference external" href="x9644.html#SELFDESTRUCT">Example
15-27</a> ). This is usually simpler than
invoking <a class="reference external" href="filearchiv.html#MKTEMPREF">mktemp</a> .</p>
</div></blockquote>
<p class="rubric">Anotacions</p>
<p>` [1]  &lt;internalvariables.html#AEN4671&gt;`__</p>
<blockquote>
<div>A <em>stack register</em> is a set of consecutive memory locations, such that</div></blockquote>
<p>the values stored ( <em>pushed</em> ) are retrieved ( <em>popped</em> ) in <em>reverse</em>
order. The last value stored is the first retrieved. This is sometimes
called a ``               LIFO             `` ( <em>last-in-first-out</em> ) or
<em>pushdown</em> stack.</p>
<p>` [2]  &lt;internalvariables.html#AEN5154&gt;`__</p>
<p>The PID of the currently running script is ``       $$      `` , of
course.</p>
<p>` [3]  &lt;internalvariables.html#AEN5320&gt;`__</p>
<p>Somewhat analogous to <a class="reference external" href="localvar.html#RECURSIONREF">recursion</a> , in
this context <em>nesting</em> refers to a pattern embedded within a larger
pattern. One of the definitions of <em>nest</em> , according to the 1913
edition of <em>Webster&#8217;s Dictionary</em> , illustrates this beautifully: &#8221; <em>A
collection of boxes, cases, or the like, of graduated size, each put
within the one next larger.</em> &#8220;</p>
<p>` [4]  &lt;internalvariables.html#AEN5479&gt;`__</p>
<p>The words &#8220;argument&#8221; and &#8220;parameter&#8221; are often used interchangeably. In
the context of this document, they have the same precise meaning: <em>a
variable passed to a script or function.</em></p>
<p>` [5]  &lt;internalvariables.html#AEN5654&gt;`__</p>
<p>Within a script, inside a subshell, ``       $$      `` <a class="reference external" href="internalvariables.html#BASHPIDREF">returns the PID
of the script</a> , not the subshell.</p>
</div>
</div>


          </div>
          <footer>
  <hr/>

  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="declareref.html" class="btn btn-neutral float-right" title="XXX 9.2. Typing variables: declare or typeset" accesskey="n">Seg <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="variables2.html" class="btn btn-neutral" title="XXX Chapter 9. Another Look at Variables"
                                                            accesskey="p"><span class="fa fa-arrow-circle-left"></span> Ant</a>
      
    </div>
  

  <div role="contentinfo">
    <p>
    </p>
  </div>
      Pàgina generada amb <a href="http://sphinx-doc.org/">Sphinx</a> amb una lleugera
                                     variació del tema<a
                                     href="https://github.com/snide/sphinx_rtd_theme">
                                         sphinx-rtd-theme </a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'10 març de 2014',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>